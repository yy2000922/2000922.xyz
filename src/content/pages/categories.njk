---
layout: layouts/base.njk
title: 知识库
permalink: /categories/
pageStyles:
  - /assets/css/pages/knowledge.css
---

<div class="knowledge-container">
    <aside class="knowledge-sidebar">
        <h3 class="sidebar-title">
            <i class="fa-solid fa-book"></i>
            淘宝天猫运营百科全书
        </h3>
        <ul class="directory-list">
            {% for dir in collections.directoriesList %}
            <li class="directory-item {% if loop.first %}active{% endif %}" onclick="switchTab('dir-{{ loop.index }}', this)">
                <i class="fa-solid fa-file-lines directory-icon"></i>
                {{ dir.title }}
            </li>
            {% endfor %}
        </ul>
    </aside>

    <main class="knowledge-content">
        {% for dir in collections.directoriesList %}
        <div id="dir-{{ loop.index }}" class="directory-section {% if loop.first %}active{% endif %}">
            <div class="section-header">
                <h2>{{ dir.title }}</h2>
            </div>
            <div class="cards-grid">
                {% for cat in dir.categories %}
                <div class="clean-card" onclick="if(!event.target.closest('a')) window.location.href='{{ cat.url }}'" style="cursor: pointer;">
                    <h3><a href="{{ cat.url }}" style="text-decoration: none; color: inherit;">{{ cat.title }}</a></h3>
                    {% if cat.description %}
                    <p class="knowledge-card-desc">{{ cat.description }}</p>
                    {% endif %}
                    <div class="card-footer">
                        <span>{{ cat.count }} 篇文档</span>
                        <i class="fa-solid fa-arrow-right" style="opacity: 0.5; font-size: 0.9em;"></i>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </main>
</div>

<script>
function switchTab(targetId, element) {
    // Remove active class from all items
    document.querySelectorAll('.directory-item').forEach(item => {
        item.classList.remove('active');
    });
    document.querySelectorAll('.directory-section').forEach(section => {
        section.classList.remove('active');
    });

    // Add active class to clicked item and target section
    element.classList.add('active');
    document.getElementById(targetId).classList.add('active');
}
</script>
