---
layout: layouts/base.njk
permalink: /contact/
---
{% set contactConfig = siteConfig.pages.contact %}

<h1 class="page-title">{{ contactConfig.title }}</h1>
<p class="page-subtitle">{{ contactConfig.subtitle }}</p>

<div style="max-width: 600px;">
    <div style="margin-bottom: 40px;">
        <h3 style="margin-bottom: 10px;">{{ contactConfig.sections.emailTitle }}</h3>
        <!-- Anti-crawler: Email injected via JS -->
        <a id="contact-email-link" href="#" style="font-size: 1.2rem; color: var(--text-primary); text-decoration: none; border-bottom: 1px solid var(--text-primary);">
            <span id="contact-email-text">Loading...</span>
        </a>
        <p style="margin-top: 10px; color: var(--text-secondary);">{{ contactConfig.responseTimeText }}</p>
    </div>

    <div style="margin-bottom: 40px;">
        <h3 style="margin-bottom: 10px;">{{ contactConfig.sections.imTitle }}</h3>
        <div style="display: flex; flex-direction: column; gap: 15px; font-size: 1rem;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-weight: 500; min-width: 50px;">微信</span>
                <span id="contact-wechat" style="color: var(--text-secondary);">Loading...</span>
            </div>
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-weight: 500; min-width: 50px;">QQ</span>
                <span id="contact-qq" style="color: var(--text-secondary);">Loading...</span>
            </div>
        </div>
    </div>

    <div style="margin-bottom: 40px;">
        <h3 style="margin-bottom: 10px;">{{ contactConfig.sections.socialTitle }}</h3>
        <div style="display: flex; flex-direction: column; gap: 15px;">
            {% for social in contactConfig.socials %}
                <a href="{{ social.url }}" style="color: var(--text-primary); text-decoration: none;">{{ social.text }}</a>
            {% endfor %}
        </div>
    </div>


</div>

<script>
    function initContactPage() {
        // Simple obfuscation to prevent basic scrapers
        // 简单的混淆以防止基本爬虫
        const e_u = '{{ contactConfig.email.user }}';
        const e_d = '{{ contactConfig.email.domain }}';
        const email = e_u + '@' + e_d;
        
        const el = document.getElementById('contact-email-link');
        const et = document.getElementById('contact-email-text');
        if(el && et) {
            el.href = 'mailto:' + email;
            et.innerText = email;
        }

        const wc = '{{ contactConfig.im.wechat }}';
        const wcEl = document.getElementById('contact-wechat');
        if(wcEl) wcEl.innerText = wc;

        const qq = '{{ contactConfig.im.qq }}';
        const qqEl = document.getElementById('contact-qq');
        if(qqEl) qqEl.innerText = qq;
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initContactPage, { once: true });
    } else {
        initContactPage();
    }
</script>
